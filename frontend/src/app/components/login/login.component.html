<div class="auth-container">
    <div class="auth-card">
        <h1>Connexion</h1>
        <p>Connectez-vous à votre espace</p>

        <form (ngSubmit)="onSubmit(loginForm)" #loginForm="ngForm">
            <div *ngIf="error()" class="alert alert-danger" style="margin-bottom: 20px;">
                {{ error() }}
            </div>

            <div class="form-group">
                <label>Email *</label>
                <input type="email" class="form-control" [(ngModel)]="credentials.email" name="email" required
                    #emailInput="ngModel" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"
                    placeholder="votre@email.com">
                <div *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)"
                    style="color: #dc2626; font-size: 12px; margin-top: 4px;">
                    <span *ngIf="emailInput.errors?.['required']">L'email est requis.</span>
                    <span *ngIf="emailInput.errors?.['pattern']">Format d'email invalide.</span>
                </div>
            </div>

            <div class="form-group">
                <label>Mot de passe *</label>
                <input type="password" class="form-control" [(ngModel)]="credentials.password" name="password" required
                    #passwordInput="ngModel" placeholder="••••••••">
                <div *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)"
                    style="color: #dc2626; font-size: 12px; margin-top: 4px;">
                    Le mot de passe est requis.
                </div>
            </div>

            <div style="text-align: right; margin-bottom: 20px;">
                <a href="#" (click)="navService.switchTab('forgot-password'); $event.preventDefault()"
                    style="color: #2563eb; text-decoration: none; font-size: 14px;">Mot de passe oublié ?</a>
            </div>

            <button type="submit" class="btn btn-primary" [disabled]="loading()">
                {{ loading() ? 'Connexion...' : 'Se Connecter' }}
            </button>
        </form>

        <div class="auth-footer">
            Pas encore de compte ? <a href="#"
                (click)="navService.switchTab('register'); $event.preventDefault()">S'inscrire</a>
        </div>
    </div>
</div>